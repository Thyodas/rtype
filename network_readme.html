<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arcade: Network</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arcade<span id="projectnumber">&#160;1.2</span>
   </div>
   <div id="projectbrief">Documentation for the Arcade project at EPITECH</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('network_readme.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Network </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>R-TYPE Network Documentation</h1>
<h2>Overview</h2>
<p >This documentation provides an overview of the network components used in the R-TYPE server, focusing on the key aspects of message handling, client-server interaction, and network communication.</p>
<h2>Components</h2>
<h3>Network Messages</h3>
<ul>
<li><b><a class="el" href="_network_message_8hpp_source.html">NetworkMessage.hpp</a></b>: This file defines an enumeration (<b>NetworkMessage</b>) that lists all types of messages that can be sent and received in the network. This includes server responses like <b>ServerAccept</b> and <b>ServerDeny</b>, client actions like <b>ClientConnect</b> and <b>ClientUpdatePlayerDirection</b>, and game-specific messages like <b>ServerCreatePlayerShip</b> and <b>ServerUpdateEnemyVelocity</b>.</li>
<li><b><a class="el" href="_network_body_8hpp_source.html">NetworkBody.hpp</a></b>: This file includes various structures corresponding to each message type defined in <b><a class="el" href="_network_message_8hpp_source.html">NetworkMessage.hpp</a></b>. Each structure represents the body of a network message and is tailored to carry the data relevant to its message type. For instance, <b>ServerCreatePlayerShip</b> includes fields like <b>entityNetId</b>, <b>shipName</b>, and <b>pos</b>. These structures are equipped with serialization functions to convert the data into a format suitable for network transmission, using Boost serialization.</li>
</ul>
<p >Together, these components define the schema and data handling for all network communication within your R-TYPE server.</p>
<h3>Client-Server Interaction</h3>
<h4>Client.hpp (ClientInterface)</h4>
<ul>
<li><b>connect()</b>: Establishes a connection to the server. It initiates the process of joining the server, essential for multiplayer interactions.</li>
<li><b>disconnect()</b>: Handles the disconnection process from the server. This method is crucial for gracefully exiting the game or handling lost connections.</li>
<li><b>sendMessage()</b>: Responsible for sending messages to the server. This method plays a key role in communicating actions or requests from the client to the server.</li>
<li><b>handleMessage()</b>: Processes incoming messages from the server. It's crucial for receiving and acting upon updates or commands from the server.</li>
</ul>
<h4>Server.hpp (ServerInterface)</h4>
<ul>
<li><b>start()</b>: Initiates the server, making it ready to accept client connections. This is the entry point for the server's operation.</li>
<li><b>stop()</b>: Gracefully shuts down the server. This method is important for proper resource management and termination of server processes.</li>
<li><b>waitForConnection()</b>: Listens for and handles new client connections. This function is key to expanding the multiplayer environment.</li>
<li><b>broadcastMessage()</b>: Sends messages to all connected clients. Essential for synchronizing game state across all players.</li>
<li><b>handleClientMessage()</b>: Processes messages received from clients. It's critical for implementing game logic based on client inputs.</li>
</ul>
<h3>Connection Management (<a class="el" href="_connection_8hpp_source.html">Connection.hpp</a>)</h3>
<ul>
<li><b>Connection Class Template</b>: Manages individual network connections, encapsulating the details of message transmission and reception.</li>
<li><b>send()</b>: Responsible for sending messages over the network. This method is critical for both client and server to communicate data effectively.</li>
<li><b>receive()</b>: Handles incoming messages, ensuring the data sent by the other party is correctly received and processed.</li>
<li><b>getHeader()</b>: Extracts the header of a received message, crucial for understanding the message context and type.</li>
<li><b>getBody()</b>: Retrieves the body of the message after the header is processed. This method is essential for accessing the actual content or data of the message.</li>
<li><b>close()</b>: Safely closes the connection. It's important for resource management and preventing leaks or errors when a connection is no longer needed.</li>
</ul>
<p >These components work together to efficiently manage the complexities of network communication within the R-TYPE server environment.</p>
<h3>Message Handling (<a class="el" href="_message_8hpp_source.html">Message.hpp</a>)</h3>
<ul>
<li><b>Message Class Template</b>: Defines the structure and functionalities for network messages, both for sending and receiving.</li>
<li><b>serialize()</b>: Converts the message data to a serialized format suitable for transmission. Essential for preparing data to be sent over the network.</li>
<li><b>deserialize()</b>: Transforms received serialized data back into its original format. Key for interpreting received messages.</li>
<li><b>getHeader()</b>: Retrieves the header from a message, providing information like message type and size.</li>
<li><b>setHeader()</b>: Assigns a header to a message, crucial for identifying and categorizing the message before sending.</li>
<li><b>getBody()</b>: Accesses the body of the message, where the main content or data is stored.</li>
<li><b>setBody()</b>: Sets the body of the message with the necessary data to be transmitted.</li>
</ul>
<p >These methods ensure that messages are correctly formatted, sent, and interpreted within the R-TYPE server network communication system.</p>
<h3>Thread-Safe Queues (<a class="el" href="_ts_queue_8hpp_source.html">TsQueue.hpp</a>)</h3>
<ul>
<li><b>TsQueue Class Template</b>: Implements a thread-safe queue to manage messages in a concurrent environment, ensuring safe access across multiple threads.</li>
<li><b>enqueue()</b>: Adds a new item to the queue. This is crucial for inserting messages into the queue in a thread-safe manner.</li>
<li><b>dequeue()</b>: Removes and returns an item from the queue. It's essential for processing messages in the order they were received.</li>
<li><b>isEmpty()</b>: Checks whether the queue is empty. This method is useful for determining if there are messages waiting to be processed.</li>
<li><b>clear()</b>: Empties all items from the queue. Important for resetting the queue or clearing pending messages when necessary.</li>
</ul>
<p >This component is vital for maintaining the integrity of message handling in a multi-threaded environment, ensuring that message processing is seamless and free from concurrency issues.</p>
<h3>Main Server Logic</h3>
<ul>
<li><b>Server.cpp</b>: This file contains the core functionality of the server. It includes the main loop for handling network events, processing client requests, and managing game logic. It's responsible for initializing the server, setting up connections, and coordinating the various components of the server.</li>
<li><b>Main.cpp</b>: Acts as the entry point of the server application. It typically initializes the server environment, creates necessary objects and components, and starts the server loop. It's crucial for bootstrapping the server and orchestrating the high-level flow of the application.</li>
</ul>
<p >These components collectively form the backbone of the server, ensuring that it runs smoothly, handles client interactions appropriately, and maintains the game state effectively.</p>
<h2>Key Concepts</h2>
<h4>Serialization with Boost</h4>
<pre class="fragment">Involves converting data structures or objects into a format that can be easily stored or transmitted and then reconstructed later. Boost's serialization library is used for this purpose, providing an efficient way to handle complex data types like Vector3.
</pre> <h4>Asynchronous Communication</h4>
<pre class="fragment">Refers to the method of data transmission where sending/receiving of messages doesn't block the execution of other tasks. This is crucial in a networked environment like R-TYPE server to maintain performance and responsiveness.
</pre> <h4>Client-Server Model</h4>
<pre class="fragment">The architectural foundation of the game's networking. The server acts as a central authority managing game logic and state, while clients connect to the server to play the game. This model facilitates multiplayer interactions and synchronizes game states among different players.
</pre> <h4>Concurrency and Thread Safety</h4>
<pre class="fragment">Managing the execution of several sequences of operations simultaneously without causing conflicts or data corruption. Thread-safe queues and synchronization mechanisms are used to ensure safe access to shared resources in a multi-threaded environment.
</pre><p> These concepts are foundational to the network architecture of the R-TYPE server, ensuring efficient, reliable, and concurrent operations. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
